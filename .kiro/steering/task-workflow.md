# タスク実施ワークフロー

## タスク開始前の確認事項

タスクの実施を開始する前に、必ず以下のドキュメントを確認すること。

### 1. タスク履歴の確認（必須）

**ファイル**: `shared/doc/task-history.md`

このファイルには以下の重要な情報が含まれています。

- プロジェクト概要
- 現在の進捗状況
- 完了済みタスクの詳細
- 次に実施すべきタスク
- 実装済みファイル一覧
- 開発環境セットアップ方法
- トラブルシューティング

**確認タイミング:**
- タスク実施を開始する前
- 前回の作業から時間が経過している場合
- 他の作業者が実施したタスクの後

### 2. 関連ドキュメントの確認

タスク履歴に記載されている以下のドキュメントも確認すること。

- **要件定義**: `.kiro/specs/prsk-music-management-web/requirements.md`
- **設計書**: `.kiro/specs/prsk-music-management-web/design.md`
- **タスク一覧**: `.kiro/specs/prsk-music-management-web/tasks.md`
- **UIガイドライン**: `.kiro/steering/ui-design-guidelines.md`
- **API仕様**: `shared/api/openapi.yaml`

## タスク実施の基本フロー

1. **タスク履歴を確認** - `shared/doc/task-history.md`を読む
2. **タスク一覧を開く** - `.kiro/specs/prsk-music-management-web/tasks.md`
3. **次のタスクを特定** - 未完了の最初のタスクを確認
4. **関連ドキュメントを参照** - 要件定義、設計書を確認
5. **実装を開始** - TDDアプローチに従って実装
6. **テストを実行** - すべてのテストがパスすることを確認
7. **タスクを完了** - tasks.mdのチェックボックスを更新
8. **タスク履歴を更新（必須）** - `shared/doc/task-history.md`に実施内容を記録

**重要**: ステップ8のタスク履歴更新は必須です。タスクを完了したら必ず実施してください。

## タスク履歴の更新ルール（必須）

**重要**: タスクを完了したら、必ず`shared/doc/task-history.md`を更新すること。これは必須の作業です。

### 更新内容

- 完了したタスクの詳細を「完了タスク」セクションに追加
- 実施内容を簡潔に記載
- 対応要件を明記
- 実装したファイルのパスを記載
- 作成したファイルの概要を記載
- 「次のタスク」セクションを更新
- 「実装済みファイル一覧」セクションを更新（新規ファイルを追加した場合）

### 更新タイミング

- **タスク完了時（必須）**: すべてのテストがパスし、タスクが完了したら即座に更新
- 複数のサブタスクを含むタスクの場合は、メインタスク完了時に更新
- 大きなタスクの場合は、中間チェックポイントでも更新を推奨

### 更新フォーマット

以下のフォーマットに従って記載すること。

```markdown
#### X.Y タスク名

**実施内容:**
- 実施した内容を箇条書きで記載
- 作成したファイルのパスを明記
- 実装した機能の概要を記載

**対応要件:** 要件X, 要件Y
```

## 注意事項

- **タスク履歴を確認せずにタスクを開始しないこと**
- **タスク完了後は必ずタスク履歴を更新すること（これは必須作業です）**
- 既存の実装ファイルを把握してから作業を開始すること
- 不明点がある場合は、タスク履歴の「トラブルシューティング」セクションを確認すること
- タスク履歴は常に最新の状態に保つこと
- タスク履歴の更新を忘れると、次の作業者が混乱する原因になります

## タスク履歴更新のチェックリスト

タスク完了時に以下を確認してください。

- [ ] `shared/doc/task-history.md`の「完了タスク」セクションに実施内容を追加した
- [ ] 実装したファイルのパスを記載した
- [ ] 対応要件を明記した
- [ ] 「次のタスク」セクションを更新した
- [ ] 新規ファイルを作成した場合は「実装済みファイル一覧」を更新した
- [ ] tasks.mdのチェックボックスを更新した
